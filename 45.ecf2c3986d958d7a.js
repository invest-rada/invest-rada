"use strict";(self.webpackChunkinvest_rada=self.webpackChunkinvest_rada||[]).push([[45],{1045:(w,y,i)=>{i.r(y),i.d(y,{DiscoverModule:()=>k});var c=i(6895),x=i(433),a=i(6103),h=i(7860),m=i(1334),l=i(2543),_=i(778),Z=i(5e3),t=i(1571);const T=[{path:"404",component:_.J,data:{title:"Page 404"}},{path:"500",component:Z.v,data:{title:"Page 500"}}];let C=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[l.Bz.forChild(T),l.Bz]}),n})(),B=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.ez,C,a.dTQ,a.hJ1,a.zE6,m.QX,a.ejP]}),n})();var D=i(1054);let A=(()=>{class n{constructor(){this.delta=0}ngOnInit(){}getColor(){return this.delta>0?"success":this.delta<0?"danger":"dark"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-delta-indicator"]],inputs:{delta:"delta"},decls:2,vars:2,consts:[["shape","rounded-pill",3,"color"]],template:function(e,s){1&e&&(t.TgZ(0,"c-badge",0),t._uU(1),t.qZA()),2&e&&(t.Q6J("color",s.getColor()),t.xp6(1),t.Oqu(s.delta))},dependencies:[a.FN3]}),n})();var g,p=i(655),U=i(5520),b=i(7579),f=i(2722),v=i(2434),O=i(3941),R=i(9769);function M(n,o){1&n&&(t.ynx(0),t._uU(1," Instrument has no big personal oriented movers. "),t.BQk())}function J(n,o){if(1&n&&(t.TgZ(0,"c-col",21)(1,"div",22),t._uU(2),t.qZA(),t.TgZ(3,"strong"),t._uU(4),t.qZA(),t.TgZ(5,"c-progress",23),t._UZ(6,"c-progress-bar",24),t.qZA()()),2&n){const e=o.$implicit,s=t.oxw(3);t.xp6(2),t.Oqu(s.getMetricByKey(e.key)),t.xp6(2),t.AsE("",s.getAbsoluteDeltaByKey(e.key)," (",s.getUserOrientedDeltaValueByKey(e.key),"%)"),t.xp6(2),t.Q6J("color",s.getColorBasedOnDeltaPercent(s.getUserOrientedDeltaValueByKey(e.key)))("value",s.calculateProgressBarByKey(e.key))}}function K(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(e),t.oxw();const r=t.MAs(38);return t.KtG(r.toggleItem())}),t._uU(1," All metrics "),t.qZA()}if(2&n){t.oxw();const e=t.MAs(38);t.Q6J("collapsed",!e.visible)}}function P(n,o){if(1&n&&(t.TgZ(0,"tr")(1,"th",30),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"app-delta-indicator",31),t.qZA()()),2&n){const e=o.$implicit,s=t.oxw(4);t.xp6(2),t.Oqu(e),t.xp6(2),t.Oqu(s.getCompanyValueByKey(e)),t.xp6(2),t.Oqu(s.getSectorValueByKey(e)),t.xp6(2),t.Q6J("delta",s.getDeltaValueByKey(e))}}function Q(n,o){if(1&n&&(t.TgZ(0,"div",26)(1,"table",27)(2,"thead")(3,"tr")(4,"th",28),t._uU(5,"Metric"),t.qZA(),t.TgZ(6,"th",28),t._uU(7,"Value"),t.qZA(),t.TgZ(8,"th",28),t._uU(9,"Sector Value"),t.qZA(),t.TgZ(10,"th",28),t._uU(11,"Delta"),t.qZA()()(),t.TgZ(12,"tbody"),t.YNc(13,P,9,4,"tr",29),t.qZA()()()),2&n){const e=t.oxw(3);t.xp6(13),t.Q6J("ngForOf",e.fundamentalKeys)}}const F=function(){return{"marginTop.px":40}};function I(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"c-alert",3),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.toggleFeedbackCollapse())}),t.TgZ(2,"strong"),t._uU(3),t.qZA(),t.O4$(),t._UZ(4,"svg",4),t.qZA(),t.kcU(),t.TgZ(5,"div",5)(6,"c-card",6)(7,"c-card-header"),t._uU(8,"Main movers"),t.qZA(),t.TgZ(9,"c-card-body"),t._UZ(10,"app-estimate-table",7),t.ALo(11,"async"),t._UZ(12,"app-estimate-table",8),t.ALo(13,"async"),t.YNc(14,M,2,0,"ng-container",9),t.ALo(15,"async"),t.ALo(16,"async"),t.qZA()()(),t.TgZ(17,"c-card",10)(18,"c-card-header")(19,"div",11)(20,"b"),t._uU(21),t.qZA(),t._uU(22," in "),t.TgZ(23,"b"),t._uU(24),t.qZA(),t._uU(25," sector "),t.qZA()(),t.TgZ(26,"c-card-body")(27,"c-row")(28,"c-col",12)(29,"h4",13),t._uU(30," Robot analytics "),t.qZA()()(),t.TgZ(31,"c-chart",14),t._uU(32," Main chart "),t.qZA()(),t.TgZ(33,"c-card-footer")(34,"c-row",15),t.YNc(35,J,7,5,"c-col",16),t.qZA()()(),t.TgZ(36,"c-accordion")(37,"c-accordion-item",17,18),t.YNc(39,K,2,1,"ng-template",19),t.YNc(40,Q,14,1,"ng-template",20),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("color",e.getResultColorBasedOnDeltaPercent(e.resultToBuy)),t.xp6(2),t.AsE(" ",e.verbalRecommendation," (",e.resultToBuy," points) "),t.xp6(2),t.Q6J("visible",e.visibleFeedback),t.xp6(5),t.Q6J("list",t.lcZ(11,19,e.posList$)),t.xp6(2),t.Q6J("list",t.lcZ(13,21,e.consList$)),t.xp6(2),t.Q6J("ngIf",!e.isLengthPositive(t.lcZ(15,23,e.posList$))&&!e.isLengthPositive(t.lcZ(16,25,e.consList$))),t.xp6(7),t.AsE("",e.name," (",e.symbol,")"),t.xp6(3),t.Oqu(e.sector),t.xp6(7),t.Q6J("data",e.mainChart.data)("height",300)("ngStyle",t.DdM(27,F))("options",e.mainChart.options)("type",e.mainChart.type),t.xp6(3),t.Q6J("md",5)("xs",1),t.xp6(1),t.Q6J("ngForOf",e.userMetrics),t.xp6(2),t.Q6J("visible",!1)}}function q(n,o){if(1&n&&(t.ynx(0),t.YNc(1,I,41,28,"ng-container",0),t.BQk()),2&n){const e=t.oxw(),s=t.MAs(2);t.xp6(1),t.Q6J("ngIf",!e.isLoading)("ngIfElse",s)}}function Y(n,o){1&n&&t._UZ(0,"c-spinner",32)}function $(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",33)(1,"app-page404",34),t.NdJ("onSearch",function(r){t.CHM(e);const d=t.oxw();return t.KtG(d.searchSymbol(r))}),t.qZA()()}2&n&&(t.xp6(1),t.Q6J("height",70))}class u{constructor(o,e,s,r,d){this.analyticsRobot=o,this.fundamentalData=e,this.userData=s,this.route=r,this.router=d,this.mainChart={},this.isLoading=!0,this.visibleFeedback=!1,this.items=[1,2,3,4],this.destroyed$=new b.x,g.set(this,new b.x),this.symbol$=(0,p.Q_)(this,g,"f").asObservable()}get fundamentalKeys(){return this.analyticsRobot.fundamentalKeys}get userMetrics(){return this.userData.currentUserMetrics}get sector(){return this.analyticsRobot.currentSector}get symbol(){return this.analyticsRobot.currentSymbol}get name(){return this.fundamentalData.dataStore[this.symbol].Name}get resultToBuy(){return this.analyticsRobot.resultToBuy}get posList$(){return this.analyticsRobot.posList$}get consList$(){return this.analyticsRobot.consList$}get verbalRecommendation(){return this.analyticsRobot.verbalRecommendation}ngOnInit(){this.symbol$.pipe((0,f.R)(this.destroyed$)).subscribe(o=>{Boolean(o)?this.analyticsRobot.changeCurrentCompanyBySymbol(o).subscribe(()=>{this.analyticsRobot.initMainChart().pipe((0,f.R)(this.destroyed$)).subscribe(e=>{this.mainChart=e,this.isLoading=!1})}):this.analyticsRobot.resetRobot()}),this.route.queryParams.subscribe(o=>{(0,p.Q_)(this,g,"f").next(o.symbol)})}ngOnDestroy(){(0,p.Q_)(this,g,"f").next(""),this.destroyed$.next(!0),this.destroyed$.complete()}searchSymbol(o){this.router.navigateByUrl(`discover?symbol=${o.toUpperCase()}`)}getCompanyValueByKey(o){return this.analyticsRobot.getCompanyValueByKey(o)}getSectorValueByKey(o){return this.analyticsRobot.getSectorValueByKey(o)}getDeltaValueByKey(o){return this.analyticsRobot.getDeltaValueByKey(o)}getUserOrientedDeltaValueByKey(o){return this.analyticsRobot.getUserOrientedDeltaValueByKey(o)}getDirectionByKey(o){return this.analyticsRobot.getDirectionByKey(o)}calculateProgressBarByKey(o){const e=this.getUserOrientedDeltaValueByKey(o);return e>100?100:e<-99?1:e/2+50}isLengthPositive(o){return o&&o.length>0}getAbsoluteDeltaByKey(o){return(0,U.Z)(this.getCompanyValueByKey(o)-this.getSectorValueByKey(o),3)*this.getDirectionByKey(o)}getResultColorBasedOnDeltaPercent(o){return this.analyticsRobot.getResultColorBasedOnDeltaPercent(o)}toggleFeedbackCollapse(){this.visibleFeedback=!this.visibleFeedback}getColorBasedOnDeltaPercent(o){return this.analyticsRobot.getColorBasedOnDeltaPercent(o)}getMetricByKey(o){return this.analyticsRobot.getMetricByKey(o)}}g=new WeakMap,u.\u0275fac=function(o){return new(o||u)(t.Y36(v.E),t.Y36(O.E),t.Y36(R.M),t.Y36(l.gz),t.Y36(l.F0))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-discover"]],decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["loader",""],["symbol404",""],[1,"cursor-pointer","position-relative",3,"color","click"],["cIcon","","name","cil-balance-scale","size","xl","title","Balance Icon",1,"end-icon"],["cCollapse","",1,"my-3",3,"visible"],[1,"shadow"],["title","Pos",3,"list"],["title","Cons",3,"list"],[4,"ngIf"],[1,"mb-4"],[1,"small","text-medium-emphasis"],["sm","5"],["id","traffic",1,"card-title","mb-0"],[3,"data","height","ngStyle","options","type"],[1,"text-center",3,"md","xs"],["class","mb-sm-2 mb-0",4,"ngFor","ngForOf"],[3,"visible"],["item0","cAccordionItem"],["cTemplateId","accordionHeaderTemplate"],["cTemplateId","accordionBodyTemplate"],[1,"mb-sm-2","mb-0"],[1,"text-medium-emphasis"],["thin","",1,"mt-2"],[3,"color","value"],["cAccordionButton","",3,"collapsed","click"],[1,"accordion-body"],["cTable",""],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[3,"delta"],["color","primary"],[1,"container"],[3,"height","onSearch"]],template:function(o,e){if(1&o&&(t.YNc(0,q,2,2,"ng-container",0),t.YNc(1,Y,1,0,"ng-template",null,1,t.W1O),t.YNc(3,$,2,1,"ng-template",null,2,t.W1O)),2&o){const s=t.MAs(4);t.Q6J("ngIf",e.symbol)("ngIfElse",s)}},styles:[".container[_ngcontent-%COMP%]{max-height:70vh;overflow:visible}.end-icon[_ngcontent-%COMP%]{position:absolute;right:1rem}"]});const S=[{path:"",component:u,data:{title:$localize`Discover`}}];let E=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[l.Bz.forChild(S),l.Bz]}),n})();function L(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"tr",4)(2,"th",5),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA()(),t.BQk()),2&n){const e=o.$implicit,s=t.oxw(2);t.xp6(1),t.Q6J("cTableColor",s.getColorBasedOnDeltaPercent(e.value)),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.hij("",e.value,"%")}}function V(n,o){if(1&n&&(t.TgZ(0,"table",1)(1,"thead")(2,"tr")(3,"th",2)(4,"strong"),t._uU(5),t.qZA()(),t.TgZ(6,"th",2),t._uU(7,"Value"),t.qZA()()(),t.TgZ(8,"tbody"),t.YNc(9,L,6,3,"ng-container",3),t.qZA()()),2&n){const e=t.oxw();t.xp6(5),t.Oqu(e.title),t.xp6(4),t.Q6J("ngForOf",e.list)}}let N=(()=>{class n{constructor(e){this.analyticsRobot=e,this.list=[],this.title=""}ngOnInit(){}isLengthPositive(e){return e&&e.length>0}getColorBasedOnDeltaPercent(e){return this.analyticsRobot.getColorBasedOnDeltaPercent(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.E))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-estimate-table"]],inputs:{list:"list",title:"title"},decls:1,vars:1,consts:[["cTable","",4,"ngIf"],["cTable",""],["scope","col",1,"col-6"],[4,"ngFor","ngForOf"],[3,"cTableColor"],["scope","row"]],template:function(e,s){1&e&&t.YNc(0,V,10,2,"table",0),2&e&&t.Q6J("ngIf",s.isLengthPositive(s.list))},dependencies:[c.sg,c.O5,a.auY,a.io7]}),n})(),k=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[E,a.fxp,a.nMh,a.TXv,a.fwJ,c.ez,a.dTQ,a.dGk,m.QX,a.P4_,c.ez,a.zE6,B,a.qek,x.UX,a.hJ1,a.ejP,a.hJ1,a.ga2,h.N,a.FxY,a.Fme,a.U$I,a.m81,D.H]}),n})();t.B6R(u,[a.ZfJ,a.VTd,a.n3F,a.wxo,a.Yke,c.sg,c.O5,c.PC,a.AkF,a.yue,a.xUh,a.nkx,m.ar,a.iok,a.Yp0,_.J,a.t15,a.RIQ,h.d,a.ORR,a.auY,a.y1J,A,N],[c.Ov])}}]);